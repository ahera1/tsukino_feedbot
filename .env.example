# Docker環境変数設定ファイル例
# このファイルを .env にコピーして使用してください

# AI API設定
# プライマリ: OpenRouter API
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_MODEL=openai/gpt-oss-20b

# セカンダリ: OpenAI API（フォールバック用）
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-5-nano

# 三次: Ollama（ローカル環境用）
OLLAMA_BASE_URL=http://localhost:11434/api/chat
OLLAMA_MODEL=llama2

# AI共通設定
# 以下のパラメータは空文字にするとAPIに渡されません（GPT-5などで必要）
# モデル仕様に合わせてトークン数を大幅調整（gpt-oss-20b: 16k, gpt-5-nano: 40k）
AI_MAX_TOKENS=8000
AI_TEMPERATURE=0.3
# GPT-5を使用する場合は以下のように空にしてください：
# AI_MAX_TOKENS=
# AI_TEMPERATURE=

# AI API通信設定
# APIタイムアウト値（秒）- 大容量処理に対応して延長
AI_TIMEOUT=120
# 最大リトライ回数
AI_MAX_RETRIES=3
# リトライ間隔（秒）- 指数バックオフで増加
AI_RETRY_DELAY=10

# Mastodon設定
MASTODON_INSTANCE_URL=https://your.mastodon.instance
MASTODON_ACCESS_TOKEN=your_mastodon_access_token

# 動作設定
CHECK_INTERVAL_MINUTES=60
ARTICLE_RETENTION_DAYS=7
READ_RECORD_RETENTION_DAYS=3

# ウェイト設定（秒）
# 投稿処理間の待機時間（記事処理とMastodon投稿の間隔）
POST_WAIT=60

# 時間帯制限設定（24時間形式、JST）
# 投稿を行わない時間帯を設定（例: 23:00-07:00は投稿しない）
QUIET_HOURS_START=23
QUIET_HOURS_END=7
# 時間帯制限を有効にするかどうか（true/false）
ENABLE_QUIET_HOURS=true

# AI要約プロンプト
SUMMARY_PROMPT=あなたは記事を日本語に要約することを得意としています。元の記事がどのような言語であっても必ず日本語で要約してください。あなたはプロの要約家であり、記事の要点や主張を理解できます。記事内容にHTMLタグが含まれている場合は、それらを無視して本文のみを処理してください。記事の要約を含め、その後に記事の要点に対する中立的な視点での問いかけや感想を含めてください。親しみやすいカジュアルな口調で話します。mastodon投稿用なのでmarkdownは用いず、プレーンテキストで200文字以内で表現してください。\n\n記事タイトル: \n{title} \n\n記事内容: \n{content}

# Mastodon投稿設定
POST_TEMPLATE={summary}\n\n記事: {title}\n{url}\n\n#AI要約
# 公開範囲設定 (public: 公開, unlisted: 未収載, private: フォロワーのみ, direct: ダイレクト)
POST_VISIBILITY=direct

# 記事完全性チェック設定
# 有効と見なす最小タイトル長
MIN_TITLE_LENGTH=3
# 有効と見なす最小本文長
MIN_CONTENT_LENGTH=10

# 記事遅延処理設定
# 新着記事の遅延時間（分） - この時間以内に公開された記事は次回処理まで遅延
FEED_INITIAL_DELAY_MINUTES=5

# ログ設定
LOG_LEVEL=INFO
LOG_TO_FILE=true

# タイムゾーン
TZ=Asia/Tokyo
